# Hospital Cloudinary Image Upload Tests

# Variables
@baseUrl = http://localhost:3000
@hospitalId = 1
@accessToken = {{accessToken}}

### Upload Hospital Logo
POST {{baseUrl}}/hospital/{{hospitalId}}/upload-logo
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="logo"; filename="hospital-logo.jpg"
Content-Type: image/jpeg

< ./test-images/hospital-logo.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Upload Hospital Gallery Images
POST {{baseUrl}}/hospital/{{hospitalId}}/upload-gallery
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="images"; filename="hospital-exterior.jpg"
Content-Type: image/jpeg

< ./test-images/hospital-exterior.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="images"; filename="hospital-lobby.jpg"
Content-Type: image/jpeg

< ./test-images/hospital-lobby.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="imageType"

exterior
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Upload Hospital Certificate
POST {{baseUrl}}/hospital/{{hospitalId}}/upload-certificate
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="certificate"; filename="hospital-certificate.jpg"
Content-Type: image/jpeg

< ./test-images/hospital-certificate.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Chứng nhận ISO 9001:2015
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="description"

Chứng nhận hệ thống quản lý chất lượng theo tiêu chuẩn ISO 9001:2015
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Get Hospital Images
GET {{baseUrl}}/hospital/{{hospitalId}}/images

### Get Hospital Details (with images)
GET {{baseUrl}}/hospital/{{hospitalId}}

### Delete Hospital Image
DELETE {{baseUrl}}/hospital/{{hospitalId}}/images/hospital_1_logo
Authorization: Bearer {{accessToken}}

### Test with curl commands (Alternative)

# Upload logo with curl
# curl -X POST \
#   {{baseUrl}}/hospital/{{hospitalId}}/upload-logo \
#   -H "Authorization: Bearer {{accessToken}}" \
#   -F "logo=@./test-images/hospital-logo.jpg"

# Upload gallery images with curl  
# curl -X POST \
#   {{baseUrl}}/hospital/{{hospitalId}}/upload-gallery \
#   -H "Authorization: Bearer {{accessToken}}" \
#   -F "images=@./test-images/hospital-exterior.jpg" \
#   -F "images=@./test-images/hospital-lobby.jpg" \
#   -F "imageType=exterior"

# Upload certificate with curl
# curl -X POST \
#   {{baseUrl}}/hospital/{{hospitalId}}/upload-certificate \
#   -H "Authorization: Bearer {{accessToken}}" \
#   -F "certificate=@./test-images/hospital-certificate.jpg" \
#   -F "title=Chứng nhận ISO 9001:2015" \
#   -F "description=Chứng nhận hệ thống quản lý chất lượng"

### Test Image Optimization URLs
# Test get optimized image URL from Cloudinary
# Expected response should include optimized URLs like:
# https://res.cloudinary.com/{cloud_name}/image/upload/w_300,h_300,c_fill,f_webp,q_auto/{public_id}

### Environment Variables Setup Required
# 1. Create .env file with:
#    CLOUDINARY_CLOUD_NAME=your_cloud_name
#    CLOUDINARY_API_KEY=your_api_key
#    CLOUDINARY_API_SECRET=your_api_secret
#
# 2. Create test-images directory with sample images:
#    - hospital-logo.jpg
#    - hospital-exterior.jpg
#    - hospital-lobby.jpg
#    - hospital-certificate.jpg 